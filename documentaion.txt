

# ğŸ“– Dokumentasi Sistem Operasional Yayasan YPIK Al-Azhar PAM Jaya

**Sistem Operasional Yayasan YPIK Al-Azhar PAM Jaya (SOY YPIK)** adalah aplikasi internal yang dirancang untuk mengelola berbagai aspek operasional yayasan secara terintegrasi. Modul yang tersedia meliputi manajemen aset, manajemen pengguna, keuangan, dokumen, hingga komunikasi/blasting.

Aplikasi ini dibangun menggunakan **Laravel 10** dengan pendekatan **clean architecture** agar sistem mudah dikembangkan, scalable, dan maintainable.

---

## ğŸš€ Fitur Utama

- **Manajemen Aset**  
  Pencatatan, pelacakan, dan riwayat lifecycle aset yayasan.
- **Manajemen Keuangan**  
  Laporan maintenance, pencatatan transaksi perawatan, serta alur approval.
- **Manajemen Pengguna**  
  Sistem permission granular tanpa ketergantungan role; akses dapat diatur per modul dan per aksi.
- **Sistem Blasting Tagihan**  
  Pengiriman informasi tagihan kepada orang tua.

---

## ğŸ“¦ Tech Stack

- **Backend**: Laravel 10 (PHP 8.2+)  
- **Database**: MySQL / MariaDB  
- **Frontend**: Blade + Bootstrap  
- **Deployment**: Linux server / cPanel / Laravel Forge  

---

## ğŸ› ï¸ Setup Project (Local Development)

1. **Clone Repository**
   ```bash
   git clone https://github.com/ariyapanna/soy-ypik.git
   cd soy-ypik
   ```

2. **Install Dependencies**  
   Pastikan PHP 8.2+, Composer, dan ekstensi standar Laravel sudah terpasang.
   ```bash
   composer install
   ```

3. **Konfigurasi Environment**
   ```bash
   cp .env.example .env
   ```
   Sesuaikan parameter dasar:
   ```env
   APP_NAME="Sistem Operasional Yayasan YPIK Al-Azhar PAM Jaya"
   APP_ENV=local
   APP_KEY=
   APP_DEBUG=true
   APP_URL=http://localhost:8000

   DB_CONNECTION=mysql
   DB_HOST=127.0.0.1
   DB_PORT=3306
   DB_DATABASE=soy_ypik
   DB_USERNAME=root
   DB_PASSWORD=

   QUEUE_CONNECTION=database
   CACHE_DRIVER=file
   SESSION_DRIVER=file
   ```

   Generate application key:
   ```bash
   php artisan key:generate
   ```

4. **Migrasi Database**
   ```bash
   php artisan migrate
   ```
   Jika menggunakan seeder:
   ```bash
   php artisan db:seed
   ```

5. **Jalankan Server Lokal**
   ```bash
   php artisan serve
   ```

---

## ğŸ§ª Testing

Menjalankan seluruh test:
```bash
php artisan test
```

Testing model dengan Tinker:
```bash
php artisan tinker
\App\Models\Announcement::with('creator')->first();
```

---

## ğŸ—‚ï¸ Struktur Folder (High-Level)

```
app/
 â”œâ”€â”€ Http/
 â”‚    â”œâ”€â”€ Controllers/
 â”‚    â”œâ”€â”€ Requests/
 â”‚    â””â”€â”€ Middleware/
 â”œâ”€â”€ Models/
 â”œâ”€â”€ Services/
 â”œâ”€â”€ Repositories/
 â”œâ”€â”€ DTOs/
 â””â”€â”€ Helpers/

routes/
 â”œâ”€â”€ web.php
 â”œâ”€â”€ api.php

resources/
 â”œâ”€â”€ views/
 â”œâ”€â”€ css/
 â””â”€â”€ js/
```

---

## ğŸ“‚ Struktur Modul Blasting

```
app/
 â”œâ”€â”€ Http/
 â”‚   â”œâ”€â”€ Controllers/
 â”‚   â”‚   â”œâ”€â”€ Admin/
 â”‚   â”‚   â”‚   â”œâ”€â”€ AnnouncementController.php
 â”‚   â”‚   â”‚   â”œâ”€â”€ BillingController.php
 â”‚   â”‚   â”‚   â””â”€â”€ BlastController.php
 â”‚   â”‚   â””â”€â”€ Webhook/
 â”‚   â”‚       â””â”€â”€ PaymentWebhookController.php
 â”‚   â”œâ”€â”€ Requests/
 â”‚   â”‚   â”œâ”€â”€ AnnouncementRequest.php
 â”‚   â”‚   â”œâ”€â”€ BillingRequest.php
 â”‚   â”‚   â””â”€â”€ BlastRequest.php
 â”‚   â””â”€â”€ Middleware/
 â”‚       â”œâ”€â”€ RoleMiddleware.php
 â”‚       â””â”€â”€ AuditLogMiddleware.php
 â”œâ”€â”€ Models/
 â”‚   â”œâ”€â”€ ParentUser.php
 â”‚   â”œâ”€â”€ Announcement.php
 â”‚   â”œâ”€â”€ Billing.php
 â”‚   â”œâ”€â”€ Payment.php
 â”‚   â”œâ”€â”€ BlastLog.php
 â”‚   â””â”€â”€ AuditLog.php
 â”œâ”€â”€ Services/
 â”‚   â”œâ”€â”€ Blast/
 â”‚   â”‚   â”œâ”€â”€ BlastService.php
 â”‚   â”‚   â”œâ”€â”€ EmailBlastService.php
 â”‚   â”‚   â””â”€â”€ WhatsAppBlastService.php
 â”‚   â”œâ”€â”€ Payment/
 â”‚   â”‚   â””â”€â”€ PaymentStatusService.php
 â”‚   â””â”€â”€ Reminder/
 â”‚       â””â”€â”€ ReminderService.php
 â”œâ”€â”€ Repositories/
 â”‚   â”œâ”€â”€ AnnouncementRepository.php
 â”‚   â”œâ”€â”€ BillingRepository.php
 â”‚   â”œâ”€â”€ PaymentRepository.php
 â”‚   â””â”€â”€ ParentRepository.php
 â”œâ”€â”€ DTOs/
 â”‚   â”œâ”€â”€ BlastMessageDTO.php
 â”‚   â”œâ”€â”€ BillingDTO.php
 â”‚   â””â”€â”€ PaymentStatusDTO.php
 â””â”€â”€ Helpers/
     â”œâ”€â”€ FileHelper.php
     â””â”€â”€ PhoneFormatter.php
```

---

## ğŸ“˜ Deployment Guide (Singkat)

1. Upload source ke server / lakukan `git pull`  
2. Jalankan:
   ```bash
   composer install --optimize-autoloader --no-dev
   ```
3. Setup `.env`  
4. Generate key:
   ```bash
   php artisan key:generate
   ```
5. Migrasi database:
   ```bash
   php artisan migrate --force
   ```
6. Optimasi:
   ```bash
   php artisan optimize
   ```
7. Pastikan queue worker berjalan (gunakan Supervisor)

---

## ğŸ”’ Catatan Keamanan

- Gunakan **HTTPS** untuk produksi  
- Pastikan permission folder `storage/` dan `bootstrap/cache/` benar  
- Terapkan **role-based access control**  
- Audit log untuk semua aksi penting  

---

## ğŸ“„ Lisensi

Proyek ini bersifat **internal** dan hanya digunakan dalam lingkungan Yayasan YPIK Al-Azhar PAM Jaya.

---

